# 16 数值的整数次方

## 题目内容

实现 pow(x, n) ，即计算 x 的 n 次幂函数（即，xn）。不得使用库函数，同时不需要考虑大数问题。

**示例 1：**

```
输入：x = 2.00000, n = 10
输出：1024.00000
```

**示例 2：**

```
输入：x = 2.10000, n = 3
输出：9.26100
```

**示例 3：**

```
输入：x = 2.00000, n = -2
输出：0.25000
解释：2-2 = 1/22 = 1/4 = 0.25
```

**提示：**

* `-100.0 < x < 100.0`
* `-2^31 <= n <= 2^31-1`
* `-10^4 <= x^n <= 10^4`

## 解题方法

### 二分法

**算法流程：**

1. 首先，判断x是否为0，若为0，则返回结果 0；
2. 当 n<0 时，将 x 与 n 转换为 1/x 与 -n；
3. 当 n 存在时开始循环：
   1. 若 n 为奇数，则 res *= x；
   2. x 变为原来的两倍，n 向下整除变为原来的一半
   3. 循环结束后，返回 res

**复杂度分析：**

* **时间复杂度**为O(logN)
* **空间复杂度**为O(1)

**代码：**

```python
class Solution:
    def myPow(self, x: float, n: int) -> float:
        if x == 0:
            return 0
        res = 1
        if n < 0: x, n = 1/x, -n
        while n:
            if n & 1:
                res *= x
            x *= x
            n >>= 1
        return res
```

## 总结

这道题目其实和上次做的剪绳子2原理是一样的，核心都是二分法。做这道题首先想到的肯定是暴力解法，那么接下来就是对暴力解法的优化。看到幂运算，想到采用二分法进行。

由于数字存储在计算机中是二进制形式，因此，右移一位即为向下整除 2 。